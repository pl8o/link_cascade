<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>FALLING LINKS NAVIGATION</title>

<style>
    html, body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: black;
        font-family: Arial, sans-serif;
    }

    canvas {
        display: block;
    }
</style>
</head>

<body>

<canvas id="canvas"></canvas>

<script>
// ======================================================
// LINK DEFINITIONS (EDIT THESE)
// ======================================================
const LINKS = [
    { title: "Home",      url: "https://example.com/home" },
    { title: "About",     url: "https://example.com/about" },
    { title: "Services",  url: "https://example.com/services" },
    { title: "Portfolio", url: "https://example.com/portfolio" },
    { title: "Blog",      url: "https://example.com/blog" },
    { title: "Contact",   url: "https://example.com/contact" }
];

// ======================================================
// 1. CANVAS SETUP
// ======================================================
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

// ======================================================
// 2. SCREEN CONTEXT (MOBILE VS DESKTOP)
// ======================================================
const isMobile = window.innerWidth < 768;

// ======================================================
// 3. COLORS & COUNTS
// ======================================================
const SMALL_COLORS = ["blue", "yellow", "orange", "red", "purple", "green"];
const LINK_COLORS  = ["#00aaff", "#ffaa00", "#ff4444", "#aa66ff", "#44ff88", "#ffff44"];

const SMALL_COUNT = isMobile ? 80 : 150;
const LINK_COUNT  = LINKS.length;

// ======================================================
// 4. MOBILE-SPECIFIC SIZING
// ======================================================
const LINK_RADIUS     = isMobile ? 100 : 50;
const FONT_SIZE       = isMobile ? 32  : 16;
const BASE_SPEED      = isMobile ? 0.4 : 0.6;
const APPROACH_RADIUS = isMobile ? 220 : 120;
const CLUSTER_SPACING = isMobile ? 150 : 80;

// ======================================================
// 5. STATE CONTAINERS
// ======================================================
let smallBalls = [];
let linkBalls  = [];
let mouse = { x: -9999, y: -9999 };

// ======================================================
// 6. CREATE SMALL BACKGROUND BALLS
// ======================================================
function createSmallBalls() {
    while (smallBalls.length < SMALL_COUNT) {
        smallBalls.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            radius: 4 + Math.random() * 8,
            speed: 1 + Math.random() * 3,
            color: SMALL_COLORS[Math.floor(Math.random() * SMALL_COLORS.length)]
        });
    }
}

// ======================================================
// 7. CREATE LINK BALLS
// ======================================================
function createLinkBalls() {
    const firstLinkY = canvas.height * 0.25;

    for (let i = 0; i < LINK_COUNT; i++) {
        const startY = firstLinkY - (LINK_COUNT - i - 1) * CLUSTER_SPACING;

        linkBalls.push({
            label: LINKS[i].title,
            url: LINKS[i].url,
            x: (canvas.width / (LINK_COUNT + 1)) * (i + 1),
            y: startY,
            radius: LINK_RADIUS,
            baseSpeed: BASE_SPEED,
            speed: BASE_SPEED,
            color: LINK_COLORS[i % LINK_COLORS.length],
            hover: false
        });
    }
}

// ======================================================
// 8. MOUSE TRACKING
// ======================================================
canvas.addEventListener("mousemove", e => {
    const rect = canvas.getBoundingClientRect();
    mouse.x = e.clientX - rect.left;
    mouse.y = e.clientY - rect.top;
});

canvas.addEventListener("mouseleave", () => {
    mouse.x = -9999;
    mouse.y = -9999;
});

// ======================================================
// 9. UPDATE BALLS
// ======================================================
function updateBalls() {
    for (let b of smallBalls) {
        b.y += b.speed;
        if (b.y - b.radius > canvas.height) {
            b.y = -b.radius;
            b.x = Math.random() * canvas.width;
        }
    }

    let hoveringAny = false;

    for (let b of linkBalls) {
        const dx = mouse.x - b.x;
        const dy = mouse.y - b.y;
        const dist = Math.sqrt(dx * dx + dy * dy);

        if (dist < APPROACH_RADIUS) {
            b.speed = b.baseSpeed * Math.max(0.1, dist / APPROACH_RADIUS);
        } else {
            b.speed += (b.baseSpeed - b.speed) * 0.05;
        }

        b.hover = dist < b.radius;
        if (b.hover) hoveringAny = true;

        b.y += b.speed;

        if (b.y - b.radius > canvas.height) {
            b.y = -b.radius;
        }
    }

    canvas.style.cursor = hoveringAny ? "pointer" : "default";
}

// ======================================================
// 10. DRAW BALLS
// ======================================================
function drawBalls() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    for (let b of smallBalls) {
        ctx.beginPath();
        ctx.arc(b.x, b.y, b.radius, 0, Math.PI * 2);
        ctx.fillStyle = b.color;
        ctx.fill();
    }

    for (let b of linkBalls) {
        ctx.save();

        if (b.hover) {
            ctx.shadowBlur = 30;
            ctx.shadowColor = b.color;
        }

        ctx.beginPath();
        ctx.arc(b.x, b.y, b.radius, 0, Math.PI * 2);
        ctx.fillStyle = b.color;
        ctx.fill();

        ctx.shadowBlur = 0;

        ctx.fillStyle = "black";
        ctx.font = `bold ${FONT_SIZE}px Arial`;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText(b.label, b.x, b.y);

        ctx.restore();
    }
}

// ======================================================
// 11. CLICK HANDLER
// ======================================================
canvas.addEventListener("click", () => {
    for (let b of linkBalls) {
        if (b.hover) {
            window.location.href = b.url;
        }
    }
});

// ======================================================
// 12. ANIMATION LOOP
// ======================================================
function loop() {
    updateBalls();
    drawBalls();
    requestAnimationFrame(loop);
}

// ======================================================
// 13. INITIALIZATION
// ======================================================
createSmallBalls();
createLinkBalls();
loop();
</script>

</body>
</html>


