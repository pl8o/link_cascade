<!DOCTYPE html>
<html>
<head>
<title>FALLING LINKS NAVIGATION</title>
<style>
    html, body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: black;
        font-family: Arial, sans-serif;
    }
    canvas {
        display: block;
    }
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<script>
// -------------------- SETUP --------------------
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

// -------------------- CONSTANTS --------------------
const SMALL_COLORS = ["blue", "yellow", "orange", "red", "purple", "green"];
const LINK_COLORS = ["#00aaff", "#ffaa00", "#ff4444", "#aa66ff", "#44ff88", "#ffff44"];

const SMALL_COUNT = 150;
const LINK_COUNT = 6;
const APPROACH_RADIUS = 120;

// -------------------- STATE --------------------
let smallBalls = [];
let linkBalls = [];
let mouse = { x: -9999, y: -9999 };

// -------------------- CREATE SMALL BALLS --------------------
function createSmallBalls() {
    while (smallBalls.length < SMALL_COUNT) {
        smallBalls.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            radius: 6 + Math.random() * 8,
            speed: 2 + Math.random() * 3,
            color: SMALL_COLORS[Math.floor(Math.random() * SMALL_COLORS.length)]
        });
    }
}

// -------------------- CREATE LINK BALLS --------------------
// -------------------- CREATE LINK BALLS --------------------
function createLinkBalls() {
    for (let i = 0; i < LINK_COUNT; i++) {

        // Decide starting Y position:
        // • First link appears immediately (inside viewport)
        // • Remaining links start above the screen as before
        const startY = (i === 0)
            ? canvas.height * 0.25   // visible on load (top quarter)
            : -Math.random() * canvas.height;

        linkBalls.push({
            label: `Link ${i + 1}`,

            // Even horizontal spacing across the screen
            x: (canvas.width / (LINK_COUNT + 1)) * (i + 1),

            // Carefully chosen starting Y
            y: startY,

            radius: 50,
            baseSpeed: 0.6,
            speed: 0.6,

            color: LINK_COLORS[i],
            hover: false,
            url: "#"
        });
    }
}

// -------------------- MOUSE TRACKING --------------------
canvas.addEventListener("mousemove", (e) => {
    const rect = canvas.getBoundingClientRect();
    mouse.x = e.clientX - rect.left;
    mouse.y = e.clientY - rect.top;
});

canvas.addEventListener("mouseleave", () => {
    mouse.x = -9999;
    mouse.y = -9999;
});

// -------------------- UPDATE --------------------
function updateBalls() {
    // small balls
    for (let b of smallBalls) {
        b.y += b.speed;
        if (b.y - b.radius > canvas.height) {
            b.y = -b.radius;
            b.x = Math.random() * canvas.width;
        }
    }

    // link balls
    let hoveringAny = false;

    for (let b of linkBalls) {
        const dx = mouse.x - b.x;
        const dy = mouse.y - b.y;
        const dist = Math.sqrt(dx * dx + dy * dy);

        // graceful slow-down near mouse
        if (dist < APPROACH_RADIUS) {
            const factor = dist / APPROACH_RADIUS;
            b.speed = b.baseSpeed * Math.max(0.1, factor);
        } else {
            // ease back to normal speed
            b.speed += (b.baseSpeed - b.speed) * 0.05;
        }

        // hover state (inside circle)
        b.hover = dist < b.radius;
        if (b.hover) hoveringAny = true;

        b.y += b.speed;

        if (b.y - b.radius > canvas.height) {
            b.y = -b.radius;
        }
    }

    canvas.style.cursor = hoveringAny ? "pointer" : "default";
}

// -------------------- DRAW --------------------
function drawBalls() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // small background balls
    for (let b of smallBalls) {
        ctx.beginPath();
        ctx.arc(b.x, b.y, b.radius, 0, Math.PI * 2);
        ctx.fillStyle = b.color;
        ctx.fill();
    }

    // link balls
    for (let b of linkBalls) {
        ctx.save();

        if (b.hover) {
            ctx.shadowBlur = 20;
            ctx.shadowColor = b.color;
        }

        ctx.beginPath();
        ctx.arc(b.x, b.y, b.radius, 0, Math.PI * 2);
        ctx.fillStyle = b.color;
        ctx.fill();

        ctx.shadowBlur = 0;

        ctx.fillStyle = "black";
        ctx.font = "bold 16px Arial";
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText(b.label, b.x, b.y);

        ctx.restore();
    }
}

// -------------------- CLICK --------------------
canvas.addEventListener("click", () => {
    for (let b of linkBalls) {
        if (b.hover) {
            alert(`Clicked ${b.label}`);
            // window.location.href = b.url;
        }
    }
});

// -------------------- LOOP --------------------
function loop() {
    updateBalls();
    drawBalls();
    requestAnimationFrame(loop);
}

// -------------------- INIT --------------------
createSmallBalls();
createLinkBalls();
loop();
</script>

</body>
</html>


