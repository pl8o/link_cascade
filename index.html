<!DOCTYPE html>
<html>
<head>
<title>FALLING LINKS NAVIGATION</title>
<style>
    /* Remove default margins/padding and hide scrollbars */
    html, body {
        margin: 0;
        padding: 0;
        overflow: hidden;
        background: black;
        font-family: Arial, sans-serif;
    }

    canvas {
        display: block; /* Make canvas fill its container */
    }
</style>
</head>
<body>

<canvas id="canvas"></canvas>

<script>
// ======================================================
// 1. CANVAS SETUP
// ======================================================
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

// ======================================================
// 2. SCREEN CONTEXT (MOBILE VS DESKTOP)
// ======================================================
const isMobile = window.innerWidth < 768; // Treat screens <768px as mobile

// ======================================================
// 3. COLORS & COUNTS
// ======================================================
const SMALL_COLORS = ["blue", "yellow", "orange", "red", "purple", "green"];
const LINK_COLORS = ["#00aaff", "#ffaa00", "#ff4444", "#aa66ff", "#44ff88", "#ffff44"];

const SMALL_COUNT = isMobile ? 80 : 150; // fewer background balls on mobile
const LINK_COUNT = 6;

// ======================================================
// 4. MOBILE-SPECIFIC SIZING
// ======================================================
const LINK_RADIUS = isMobile ? 100 : 50;     // bigger link balls on mobile
const FONT_SIZE = isMobile ? 32 : 16;        // bigger text
const BASE_SPEED = isMobile ? 0.4 : 0.6;    // slightly slower on mobile
const APPROACH_RADIUS = isMobile ? 220 : 120; // for hover slow-down
const CLUSTER_SPACING = isMobile ? 150 : 80;  // vertical spacing between links at load

// ======================================================
// 5. STATE CONTAINERS
// ======================================================
let smallBalls = [];
let linkBalls = [];
let mouse = { x: -9999, y: -9999 };

// ======================================================
// 6. CREATE SMALL BACKGROUND BALLS
// ======================================================
function createSmallBalls() {
    while (smallBalls.length < SMALL_COUNT) {
        smallBalls.push({
            x: Math.random() * canvas.width,
            y: Math.random() * canvas.height,
            radius: 4 + Math.random() * 8,
            speed: 1 + Math.random() * 3,
            color: SMALL_COLORS[Math.floor(Math.random() * SMALL_COLORS.length)]
        });
    }
}

// ======================================================
// 7. CREATE LINK BALLS (CLUSTERED & RESPONSIVE)
// ======================================================
function createLinkBalls() {
    const firstLinkY = canvas.height * 0.25; // first link visible immediately

    for (let i = 0; i < LINK_COUNT; i++) {
        // Place each link above the first one, so they cascade naturally
        const startY = firstLinkY - (LINK_COUNT - i - 1) * CLUSTER_SPACING;

        linkBalls.push({
            label: `Link ${i + 1}`,
            x: (canvas.width / (LINK_COUNT + 1)) * (i + 1), // evenly spaced horizontally
            y: startY,
            radius: LINK_RADIUS,
            baseSpeed: BASE_SPEED,
            speed: BASE_SPEED,
            color: LINK_COLORS[i],
            hover: false,
            url: "#"
        });
    }
}

// ======================================================
// 8. MOUSE TRACKING (HOVER INTERACTION)
// ======================================================
canvas.addEventListener("mousemove", (e) => {
    const rect = canvas.getBoundingClientRect();
    mouse.x = e.clientX - rect.left;
    mouse.y = e.clientY - rect.top;
});

canvas.addEventListener("mouseleave", () => {
    mouse.x = -9999;
    mouse.y = -9999;
});

// ======================================================
// 9. UPDATE BALLS (PHYSICS & INTERACTION)
// ======================================================
function updateBalls() {
    // --- Small background balls ---
    for (let b of smallBalls) {
        b.y += b.speed;
        if (b.y - b.radius > canvas.height) {
            b.y = -b.radius;
            b.x = Math.random() * canvas.width;
        }
    }

    // --- Link balls ---
    let hoveringAny = false;

    for (let b of linkBalls) {
        const dx = mouse.x - b.x;
        const dy = mouse.y - b.y;
        const dist = Math.sqrt(dx * dx + dy * dy);

        // Graceful slow-down near cursor
        if (dist < APPROACH_RADIUS) {
            const factor = dist / APPROACH_RADIUS;
            b.speed = b.baseSpeed * Math.max(0.1, factor);
        } else {
            // Ease back to base speed
            b.speed += (b.baseSpeed - b.speed) * 0.05;
        }

        b.hover = dist < b.radius;
        if (b.hover) hoveringAny = true;

        b.y += b.speed;

        // Loop back to top
        if (b.y - b.radius > canvas.height) {
            b.y = -b.radius;
        }
    }

    canvas.style.cursor = hoveringAny ? "pointer" : "default";
}

// ======================================================
// 10. DRAW BALLS (VISUALIZATION)
// ======================================================
function drawBalls() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // --- Background balls ---
    for (let b of smallBalls) {
        ctx.beginPath();
        ctx.arc(b.x, b.y, b.radius, 0, Math.PI * 2);
        ctx.fillStyle = b.color;
        ctx.fill();
    }

    // --- Link balls ---
    for (let b of linkBalls) {
        ctx.save();

        // Add subtle glow on hover
        if (b.hover) {
            ctx.shadowBlur = 30;
            ctx.shadowColor = b.color;
        }

        ctx.beginPath();
        ctx.arc(b.x, b.y, b.radius, 0, Math.PI * 2);
        ctx.fillStyle = b.color;
        ctx.fill();

        ctx.shadowBlur = 0;

        // Draw label
        ctx.fillStyle = "black";
        ctx.font = `bold ${FONT_SIZE}px Arial`;
        ctx.textAlign = "center";
        ctx.textBaseline = "middle";
        ctx.fillText(b.label, b.x, b.y);

        ctx.restore();
    }
}

// ======================================================
// 11. CLICK HANDLER
// ======================================================
canvas.addEventListener("click", () => {
    for (let b of linkBalls) {
        if (b.hover) {
            alert(`Clicked ${b.label}`);
            // window.location.href = b.url;
        }
    }
});

// ======================================================
// 12. ANIMATION LOOP
// ======================================================
function loop() {
    updateBalls();
    drawBalls();
    requestAnimationFrame(loop);
}

// ======================================================
// 13. INITIALIZATION
// ======================================================
createSmallBalls();
createLinkBalls();
loop();

</script>

</body>
</html>


